/*!
 * You-Are-Not v0.6.2
 * (c) 2020 Calvin Tan
 * Released under the MIT License.
 */

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Not=t()}}(function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e={willThrowError:!0};Object.defineProperty(e,"_opinions",{value:["opinionatedOnNaN","opinionatedOnArray","opinionatedOnNull","opinionatedOnString","opinionatedOnNumber","opinionatedOnBoolean"]}),Object.defineProperty(e,"isOpinionated",{get:function(){return this._isOpinionated},set:function(t){var e=this;this._isOpinionated=t,this._opinions.forEach(function(n){e[n]=t})},enumerable:!0}),e.isOpinionated=!0,Object.defineProperty(e,"areNot",{value:function(t,e,n,r){t=this.prepareExpect(t);var i=this.type(e);if(this.found(t,e,i))return!1;var o=this.msg(t,i,n,r);if(this.willThrowError)throw TypeError(o);return o}}),Object.defineProperties(e,{are:{value:function(t,e,n,r){return!this.areNot(t,e)}},_are:{value:function(t,e,n,r){try{return"string"!=typeof this.areNot(t,e,n,r)}catch(i){return!1}}}}),Object.defineProperty(e,"_primitives",{value:["string","number","array","object","function","boolean","null","undefined","symbol","nan"],enumerable:!0}),e.isNot=function(t,e,n,r){return this.areNot(t,e,n,r)},e.not=function(t,e,n,r){return this.areNot(t,e,n,r)},e.is=function(t,e,n,r){return this.are(t,e,n,r)},e.found=function(t,e,n){"string"==typeof n&&(n=[n]);for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(o.indexOf("$$")>-1){if(this._are(this[o].primitive,e,this.customNameReplace(o))){if("function"==typeof this[o].pass){if(this[o].pass(e)){r=!0;break}continue}r=!0;break}}else if(-1!==n.indexOf(o)){r=!0;break}}return r},e.prepareExpect=function(t){var e=this;if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw TypeError("Internal error: Say what you expect to check as a string or array of strings. Found ".concat(this.list(this.type(t),"as"),"."));return t.reduce(function(t,n){if("string"!=typeof n)throw TypeError("Internal error: Say what you expect to check as a string. Found ".concat(e.list(e.type(n),"as"),"."));return n=n.toLowerCase(),e.mapExpect(t,n)},[])},e.mapExpect=function(t,e){if(-1===this._primitives.indexOf(e)){if(void 0!==this["$$custom_".concat(e)])return t.push("$$custom_".concat(e)),t;throw TypeError("Internal error: `".concat(e,"` is not a valid type to check for."))}return t.push(e),t},e.msg=function(t,e,n,r){var i="Wrong Type";return i+=n?" (".concat(n,")"):"",(i+=": Expecting type ".concat(this.list(t)," but got ").concat(this.list(e),"."))+(r?" Note: ".concat(r,"."):"")},e.list=function(t,e){if(e||(e="or"),"string"==typeof t&&(t=[t]),1===(t=t.map(function(t){return"`".concat(t.toLowerCase(),"`")})).length)return this.customNameReplace(t[0]);if(2===t.length)return this.customNameReplace(t.join(" ".concat(e," ")));var n="".concat(t.slice(0,-1).join(", ")," ").concat(e," ").concat(t.slice(-1));return this.customNameReplace(n)},e.customNameReplace=function(t){return t.replace("$$custom_optional","optional(null or undefined)").replace("$$custom_","custom:")},e.type=function(e){return"object"!=t(e)?"number"==typeof e&&isNaN(e)?this.opinionatedOnNaN?"nan":["nan","number"]:t(e):Array.isArray(e)?this.opinionatedOnArray?"array":["array","object"]:null===e?this.opinionatedOnNull?"null":["null","object"]:e instanceof String?this.opinionatedOnString?"string":["string","object"]:e instanceof Number?this.opinionatedOnNumber?isNaN(e.valueOf())?"nan":"number":isNaN(e.valueOf())?["number","nan","object"]:["number","object"]:e instanceof Boolean?this.opinionatedOnBoolean?"boolean":["boolean","object"]:"object"},e.lodge=function(t,e,n,r){this._lodged||(this._lodged=[]);var i=!1;try{i=this.areNot(t,e,n,r)}catch(o){i=o.message}return i&&this._lodged.push(i),i},e.resolve=function(t,e){if(void 0===this._lodged||0===this._lodged.length)return"function"==typeof t&&t(!1,e);var n=this._lodged.slice();if(this._lodged=void 0,"function"==typeof t)return t(n,e);if(this.willThrowError){var r=TypeError("Wrong types provided. See `trace`.");throw r.trace=n,r}return n},e.checkObject=function(e,n,r,i){this.areNot("string",e),this.areNot("object",n),this.areNot("object",r),this.areNot(["function","object","optional"],i);var o=Object.create(this);if("function"==typeof i)return o.walkObject(e,n,r),o.resolve(i,null);if("object"==t(i)){var a=null;return!0===i.returnPayload?"$$empty$$"===(a=o.walkObject(e,n,r,!0))&&(a=null):o.walkObject(e,n,r),i="function"==typeof i.callback?i.callback:function(t,e){return t||e},o.resolve(i,a)}return o.walkObject(e,n,r),o.resolve()},e.walkObject=function(e,n,r,i){if(i)var o={};for(var a=0,c=Object.keys(n);a<c.length;a++){var s=function(t){return function(e){return e.substring(0,e.length-t.length)}},u=function(t,e){return t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},l=c[a],f=n[l],p=!1;u(l,"?")?p=s("?"):u(l,"__optional")&&(p=s("__optional"));var h=p?p(l):l,y=r[h];if("object"!=t(f)||null===f||Array.isArray(f)){p&&(Array.isArray(f)?f.push("optional"):f=[f,"optional"]);var d=this.lodge(f,y,"".concat(e,".").concat(h));i&&!d&&y&&(o[h]=y)}else{if("object"==t(y)&&null!==y&&!Array.isArray(f)){if("$$empty$$"===this.walkObject("".concat(e,".").concat(h),f,y,i))continue;i&&(o[h]=y);continue}if(p)continue;this.lodge("object",y,"".concat(e,".").concat(h))}}if(i)return Object.keys(o).length<1?"$$empty$$":o},e.defineType=function(t){var n=this,r=(this===e?this:Object.getPrototypeOf(this)).checkObject("defineType",{primitive:["string","array"],type:"string",pass:["function","optional"]},t,{returnPayload:!0});if(Array.isArray(r))throw r.forEach(function(t){console.error(t)}),TypeError("Wrong inputs for #defineType.");"string"==typeof r.primitive&&(r.primitive=[r.primitive]),r.primitive.forEach(function(t){if(-1===n._primitives.indexOf(t))throw TypeError("Internal error: `".concat(t,"` is not a valid primitive."))});var i="$$custom_".concat(r.type);this[i]={primitive:r.primitive},r.pass&&(this[i].pass=r.pass)},e.create=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.areNot.bind(e)},e.createNot=function(t){return this.create(t)},e.createIs=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.are.bind(e)},e._applyOptions=function(t,e){var n=this;if(this._are("object",e)){if(this._are("boolean",e.willThrowError)&&(t.willThrowError=e.willThrowError),this._are("boolean",e.isOpinionated))return void(t.isOpinionated=e.isOpinionated);this._opinions.forEach(function(r){n._are("boolean",e[r])&&(t[r]=e[r])})}},e.$$custom_optional={primitive:["null","undefined"]};var n=Object.create(e);return n.willThrowError=!1,e.NotWontThrow=n,e});
