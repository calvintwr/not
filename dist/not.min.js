/*!
 * You-Are-Not v0.7.1
 * (c) 2020 Calvin Tan
 * Released under the MIT License.
 */

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Not=t()}}(function(){var t={};function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={willThrowError:!0};Object.defineProperty(n,"_opinions",{value:["opinionatedOnNaN","opinionatedOnArray","opinionatedOnNull","opinionatedOnString","opinionatedOnNumber","opinionatedOnBoolean"]}),Object.defineProperty(n,"isOpinionated",{get:function(){return this._isOpinionated},set:function(t){var e=this;this._isOpinionated=t,this._opinions.forEach(function(n){e[n]=t})},enumerable:!0}),n.isOpinionated=!0,Object.defineProperty(n,"areNot",{value:function(t,e,n,r){t=this.prepareExpect(t);var i=this.type(e);if(this.found(t,e,i))return!1;var o=this.msg(t,e,i,n,r);if(this.willThrowError)throw TypeError(o);return o}}),Object.defineProperties(n,{are:{value:function(t,e,n,r){return!this.areNot(t,e)}},_are:{value:function(t,e,n,r){try{return"string"!=typeof this.areNot(t,e,n,r)}catch(i){return!1}}}}),Object.defineProperty(n,"_primitives",{value:["string","number","array","object","function","boolean","null","undefined","symbol","nan"],enumerable:!0}),n.isNot=function(t,e,n,r){return this.areNot(t,e,n,r)},n.not=function(t,e,n,r){return this.areNot(t,e,n,r)},n.is=function(t,e,n,r){return this.are(t,e,n,r)},n.found=function(t,e,n){"string"==typeof n&&(n=[n]);for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(o.indexOf("$$")>-1){if(this._are(this[o].primitive,e,this.customNameReplace(o))){if("function"==typeof this[o].pass){if(this[o].pass(e)){r=!0;break}continue}r=!0;break}}else if(-1!==n.indexOf(o)){r=!0;break}}return r},n.prepareExpect=function(t){var e=this;if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw TypeError("Internal error: Say what you expect to check as a string or array of strings. Found ".concat(this.list(this.type(t),"as"),"."));return t.reduce(function(t,n){if("string"!=typeof n)throw TypeError("Internal error: Say what you expect to check as a string. Found ".concat(e.list(e.type(n),"as"),"."));return n=n.toLowerCase(),e.mapExpect(t,n)},[])},n.mapExpect=function(t,e){if(-1===this._primitives.indexOf(e)){if(void 0!==this["$$custom_".concat(e)])return t.push("$$custom_".concat(e)),t;throw TypeError("Internal error: `".concat(e,"` is not a valid type to check for."))}return t.push(e),t},n.msg=function(t,e,n,r,i){var o,a="Wrong Type",c=this.list(n);return a+=r?" (".concat(r,")"):"",a+=": Expecting type ".concat(this.list(t)," but got ").concat(c),(a+=["`null`","`undefined`","`nan`"].indexOf(c)>-1?".":": ".concat(null==(o=e)||"string"==typeof o||"number"==typeof o?String(o):o.length||Array.isArray(o)||"[object Object]"===String(o)?JSON.stringify(o):"undefined"!=typeof HTMLElement&&o instanceof HTMLElement?"<"+o.nodeName.toLowerCase()+">":"undefined"!=typeof Text&&o instanceof Text?'"'+o.nodeValue+'"':o.toString?o.toString():String(o),"."))+(i?" Note: ".concat(i,"."):"")},n.list=function(t,e){if(e||(e="or"),"string"==typeof t&&(t=[t]),1===(t=t.map(function(t){return"`".concat(t.toLowerCase(),"`")})).length)return this.customNameReplace(t[0]);if(2===t.length)return this.customNameReplace(t.join(" ".concat(e," ")));var n="".concat(t.slice(0,-1).join(", ")," ").concat(e," ").concat(t.slice(-1));return this.customNameReplace(n)},n.customNameReplace=function(t){return t.replace("$$custom_optional","optional(null or undefined)").replace("$$custom_","custom:")},n.type=function(t){return"object"!=e(t)?"number"==typeof t&&isNaN(t)?this.opinionatedOnNaN?"nan":["nan","number"]:e(t):Array.isArray(t)?this.opinionatedOnArray?"array":["array","object"]:null===t?this.opinionatedOnNull?"null":["null","object"]:t instanceof String?this.opinionatedOnString?"string":["string","object"]:t instanceof Number?this.opinionatedOnNumber?isNaN(t.valueOf())?"nan":"number":isNaN(t.valueOf())?["number","nan","object"]:["number","object"]:t instanceof Boolean?this.opinionatedOnBoolean?"boolean":["boolean","object"]:"object"},n.lodge=function(t,e,n,r){this._lodged||(this._lodged=[]);var i=!1;try{i=this.areNot(t,e,n,r)}catch(o){i=o.message}return i&&this._lodged.push(i),i},n.resolve=function(t,e){if(void 0===this._lodged||0===this._lodged.length)return"function"==typeof t&&t(!1,e);var n=this._lodged.slice();if(this._lodged=void 0,"function"==typeof t)return t(n,e);if(this.willThrowError){var r=TypeError("Wrong types provided. See `trace`.");throw r.trace=n,r}return n},n.checkObject=function(t,n,r,i){this.areNot("string",t),this.areNot("object",n),this.areNot("object",r),this.areNot(["function","object","optional"],i);var o=Object.create(this);if("function"==typeof i)return o.walkObject(t,n,r),o.resolve(i,null);if("object"==e(i)){var a=null;return!0===i.returnPayload?"$$empty$$"===(a=o.walkObject(t,n,r,!0))&&(a=null):o.walkObject(t,n,r),i="function"==typeof i.callback?i.callback:function(t,e){return t||e},o.resolve(i,a)}return o.walkObject(t,n,r),o.resolve()},n.walkObject=function(t,n,r,i){if(i)var o={};for(var a=0,c=Object.keys(n);a<c.length;a++){var s=function(t){return function(e){return e.substring(0,e.length-t.length)}},u=function(t,e){return t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},f=c[a],l=n[f],p=!1;u(f,"?")?p=s("?"):u(f,"__optional")&&(p=s("__optional"));var h=p?p(f):f,d=r[h];if("object"!=e(l)||null===l||Array.isArray(l)){p&&(Array.isArray(l)?l.push("optional"):l=[l,"optional"]);var y=this.lodge(l,d,"".concat(t,".").concat(h));i&&!y&&d&&(o[h]=d)}else{if("object"==e(d)&&null!==d&&!Array.isArray(l)){if("$$empty$$"===this.walkObject("".concat(t,".").concat(h),l,d,i))continue;i&&(o[h]=d);continue}if(p)continue;this.lodge("object",d,"".concat(t,".").concat(h))}}if(i)return Object.keys(o).length<1?"$$empty$$":o},n.defineType=function(t){var e=this,r=n.checkObject("defineType",{primitive:["string","array"],type:"string",pass:["function","optional"]},t,{returnPayload:!0});if(Array.isArray(r))throw r.forEach(function(t){console.error(t)}),TypeError("Wrong inputs for #defineType.");"string"==typeof r.primitive&&(r.primitive=[r.primitive]),r.primitive.forEach(function(t){if(-1===e._primitives.indexOf(t))throw TypeError("Internal error: `".concat(t,"` is not a valid primitive."))});var i="$$custom_".concat(r.type);this[i]={primitive:r.primitive},r.pass&&(this[i].pass=r.pass)},n.create=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.areNot.bind(e)},n.createNot=function(t){return this.create(t)},n.createIs=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.are.bind(e)},n._applyOptions=function(t,e){var n=this;if(this._are("object",e)){if(this._are("boolean",e.willThrowError)&&(t.willThrowError=e.willThrowError),this._are("boolean",e.isOpinionated))return void(t.isOpinionated=e.isOpinionated);this._opinions.forEach(function(r){n._are("boolean",e[r])&&(t[r]=e[r])})}};var r={primitive:["null","undefined"]},i={primitive:["number"],pass:function(t){return t.toFixed(0)===t.toString()}};(t=n).$$custom_optional=r,function(t){t.$$custom_integer=i}(t);var o=Object.create(t);return o.willThrowError=!1,t.NotWontThrow=o,Object.create(t)});