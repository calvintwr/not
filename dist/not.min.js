/*!
 * You-Are-Not v1.0.0
 * (c) 2020-2021 Calvin Tan
 * Released under the MIT License.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Not=e()}}(function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return null==e||"string"==typeof e||"number"==typeof e?String(e):e.length||Array.isArray(e)||"[object Object]"===String(e)?JSON.stringify(e):"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?"<"+e.nodeName.toLowerCase()+">":"undefined"!=typeof Text&&e instanceof Text?'"'+e.nodeValue+'"':e.toString?e.toString():String(e)};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.indexOf(t)>-1&&e.indexOf(t)===e.length-t.length};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.optionalReplace=void 0;var r=function(e){return function(t){return t.substring(0,t.length-e.length)}};n.optionalReplace=r;var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return e.replace("$$custom_optional","optional(null or undefined)").replace("$$custom_","custom:")};var i={};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){return void 0===t&&(t={opinionatedOnNaN:!0,opinionatedOnArray:!0,opinionatedOnNull:!0,opinionatedOnString:!0,opinionatedOnNumber:!0,opinionatedOnBoolean:!0}),"object"!=a(e)?"number"==typeof e&&isNaN(e)?!1===t.opinionatedOnNaN?["nan","number"]:"nan":a(e):("object"==a(e)&&Number,Array.isArray(e)?!1===t.opinionatedOnArray?["array","object"]:"array":null===e?!1===t.opinionatedOnNull?["null","object"]:"null":e instanceof String?!1===t.opinionatedOnString?["string","object"]:"string":e instanceof Number?!1===t.opinionatedOnNumber?isNaN(e.valueOf())?["nan","object"]:["object"]:isNaN(e.valueOf())?"nan":"number":e instanceof Boolean?!1===t.opinionatedOnBoolean?["boolean","object"]:"boolean":"object")};var u={},s=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0});var l=s(o);u.default=function(e,t){if(void 0===t&&(t="or"),"string"==typeof e&&(e=[e]),1===(e=e.map(function(e){return"`"+e.toLowerCase()+"`"})).length)return l.default(e[0]);if(2===e.length)return l.default(e.join(" "+t+" "));var n=e.slice(0,-1).join(", ")+" "+t+" "+e.slice(-1);return l.default(n)};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t,n,r,o,i){return{message:e,expect:t,got:n,gotType:r,name:o,note:i,timestamp:(new Date).getTime()}};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=["string","number","array","object","function","boolean","null","undefined","symbol","nan"];var p={};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y,h=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(p,"__esModule",{value:!0});var b=function(e){function t(n,r,o){var i=this.constructor;void 0===r&&(r=400);var a=this,u="string"==typeof n?n:n.message;return(a=e.call(this,u)||this).name="TypeError (NotTS)",a.statusCode=r,"object"==d(n)&&(a.trace=n,"function"==typeof o&&o(n)),function(e,t,n,r){if(void 0===r&&(r=Error),Object.setPrototypeOf(e,n.prototype),t===n)if(e.name||(e.name=t.name),r.captureStackTrace)r.captureStackTrace(e,n);else{var o=new r(e.message).stack;o&&(e.stack=function(e,t,n){if(!e)return e;if(!t)return e;var r=new RegExp("\\s+at\\s"+t+"\\s");return e.split("\n").filter(function(e){return!e.match(r)}).join("\n")}(o,"new "+t.name,e.trace))}}(a,i,t,TypeError),a}return h(t,e),t}(TypeError);p.default=b;var m={};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});var g=O(e),_=O(t),w=O(o),j=O(i),N=O(u),S=O(f),P=O(c),T=O(p),$={timestamp:!1,messageInPOJO:!1,_primitives:P.default,_lodged:[],opinionatedOnNaN:!0,opinionatedOnArray:!0,opinionatedOnNull:!0,opinionatedOnString:!0,opinionatedOnNumber:!0,opinionatedOnBoolean:!0,_isOpinionated:!0,get isOpinionated(){return this._isOpinionated},set isOpinionated(e){this.opinionatedOnNaN=e,this.opinionatedOnArray=e,this.opinionatedOnNull=e,this.opinionatedOnString=e,this.opinionatedOnNumber=e,this.opinionatedOnBoolean=e,this._isOpinionated=e},willThrowError:!0,get throw(){return this.willThrowError},set throw(e){this.willThrowError=e},get verbose(){return this.timestamp&&this.messageInPOJO},set verbose(e){this.timestamp=this.messageInPOJO=e},are:function(e,t,n,r){return!this.areNot(e,t)},_are:function(e,t,n,r){try{return"string"!=typeof this.areNot(e,t,n,r)}catch(o){return!1}},areNot:function(e,t,n,r){e=this.prepareExpect(e);var o=j.default(t,this);if(this.validate(e,t,o))return!1;var i,a=this.msg(e,t,o,n,r);if(this.willThrowError)throw"object"==v(a)?(i=new T.default(a.message)).trace=a:i=new T.default(a),i;return a},create:function(e){var t=Object.create(this);return t._lodged=[],e&&this._applyOptions(t,e),t},createNot:function(e){var t=Object.create(this);return t._lodged=[],e&&this._applyOptions(t,e),t.not.bind(t)},createIs:function(e){var t=Object.create(this);return this._applyOptions(t,e),t.are.bind(t)},checkObject:function(e,t,n,r){this.areNot("string",e),this.areNot("object",t),this.areNot("object",n),this.areNot(["function","object","optional"],r);var o=Object.create(this);if("function"==typeof r)return o.walkObject(e,t,n),o.resolve(r,null);if("object"==v(r)){var i=null;return!0===r.returnPayload?"$$empty$$"===(i=o.walkObject(e,t,n,!0,r.exact))&&(i=null):o.walkObject(e,t,n,null,r.exact),r="function"==typeof r.callback?r.callback:this.throw?function(e,t){if(e){var n=new T.default("Wrong types provided. See `trace`.");throw"boolean"!=typeof e&&(n.trace=e),n}return t}:function(e,t){return e||t},o.resolve(r,i)}return o.walkObject(e,t,n),o.resolve()},customExpectHdlr:function(e,t){if(-1===this._primitives.indexOf(t)){if(void 0!==this["$$custom_"+t])return e.push("$$custom_"+t),e;throw new T.default("Internal error: `"+t+"` is not a valid type to check for.")}return e.push(t),e},defineType:function(e){var t=this,n=$.checkObject("defineType",{primitive:["string","array"],type:"string",pass:["function","optional"]},e,{returnPayload:!0});if(Array.isArray(n))throw n.forEach(function(e){console.error(e)}),new T.default("Wrong inputs for #defineType.");"string"==typeof n.primitive&&(n.primitive=[n.primitive]),n.primitive.forEach(function(e){if(-1===t._primitives.indexOf(e))throw new T.default("Internal error: `"+e+"` is not a valid primitive.")});var r="$$custom_"+n.type;this[r]={primitive:n.primitive},n.pass&&(this[r].pass=n.pass)},msg:function(e,t,n,r,o){var i=N.default(n),a="Wrong Type";return a+=r?" ("+r+")":"",a+=": Expecting type "+N.default(e)+" but got "+i,a+=["`null`","`undefined`","`nan`"].indexOf(i)>-1?".":" with value of `"+g.default(t)+"`.",a+=o?" Note: "+o+".":"",this.timestamp&&(a+=" (TS: "+(new Date).getTime()+")"),this.messageInPOJO?S.default(a,e,t,n,r,o):a},msgProp:function(e,t,n,r){var o=n?" ("+n+")":"";return o+="Property",o+=e?" `"+e+"` is missing.":" `"+t+"` exists but is not expected.",o+=r?" Note: "+r+".":"",this.timestamp&&(o+=" (TS: "+(new Date).getTime()+")"),!this.willThrowError&&this.messageInPOJO?S.default(o,e,t,void 0,n,r):o},validate:function(e,t,n){"string"==typeof n&&(n=[n]);for(var r=!1,o=0;o<e.length;o++){var i=e[o];if(i.indexOf("$$")>-1){if(this._are(this[i].primitive,t,w.default(i))){if("function"==typeof this[i].pass){if(this[i].pass(t)){r=!0;break}continue}r=!0;break}}else if(-1!==n.indexOf(i)){r=!0;break}}return r},lodge:function(e,t,n,r){this.hasOwnProperty("_lodged")||(this._lodged=[]);var o=this._lodged,i=!1;try{i=this.areNot(e,t,n,r)}catch(a){i=a.message}return i&&o.push(i),i},lodgeProp:function(e,t,n,r){this.hasOwnProperty("_lodged")||(this._lodged=[]);var o=this.msgProp(e,t,n,r);return this._lodged.push(o),o},prepareExpect:function(e){var t=this;if("string"==typeof e)e=[e];else if(!Array.isArray(e)){var n="Internal error: Say what you expect to check as a string or array of strings.";throw n+=" Found "+N.default(j.default(e,this),"as")+".",new T.default(n)}return e.reduce(function(e,n){if("string"!=typeof n)throw new T.default("Internal error: Say what you expect to check as a string. Found "+N.default(j.default(n,t),"as")+".");return n=n.toLowerCase(),t.customExpectHdlr(e,n)},[])},resolve:function(e,t){var n=this._lodged,r=this.willThrowError;if(0===n.length)return"function"==typeof e&&e(!1,t);var o=n.slice();if(this._lodged=[],"function"==typeof e)return e(o,t);if(r){var i=new T.default("Wrong types provided. See `trace`.");throw i.trace=o,i}return o},walkObject:function(e,t,r,o,i){var a=this;if(o)var u={};var s=Object.keys(t);i&&Object.keys(r).filter(function(e){return!s.includes(e)}).forEach(function(t){a.lodgeProp(!1,(e?e+".":"")+t)});for(var l=0,f=s;l<f.length;l++){var c=f[l],p=t[c],d=!1;_.default(c,"?")?d=n.optionalReplace("?"):_.default(c,"__optional")&&(d=n.optionalReplace("__optional"));var y=d?d(c):c;if(y in r||d){var h=r[y];if("object"!=v(p)||null===p||Array.isArray(p)){d&&(Array.isArray(p)?p.push("optional"):p=[p,"optional"]);var b=this.lodge(p,h,(e?e+".":"")+y);o&&!b&&h&&(u[y]=h)}else{if("object"==v(h)&&null!==h&&!Array.isArray(p)){if("$$empty$$"===this.walkObject((e?e+".":"")+y,p,h,o))continue;o&&(u[y]=h);continue}if(d)continue;this.lodge("object",h,(e?e+".":"")+y)}}else this.lodgeProp((e?e+".":"")+y)}if(o)return Object.keys(u).length<1?"$$empty$$":u},_applyOptions:function(e,t){var n=this;if(this._are("object",t)){if(this._are("boolean",t.willThrowError)&&(console.warn("NotJS: Use of `willThrowError` is deprecated. Use `throw` insteead."),e.willThrowError=t.willThrowError),this._are("boolean",t.throw)&&(e.throw=t.throw),this._are("boolean",t.verbose)&&(e.verbose=t.verbose),this._are("boolean",t.timestamp)&&(e.timestamp=t.timestamp),this._are("boolean",t.messageInPOJO)&&(e.messageInPOJO=t.messageInPOJO),this._are("boolean",t.isOpinionated))return void(e.isOpinionated=t.isOpinionated);Object.keys($).filter(function(e){return 0===e.indexOf("opinionatedOn")}).forEach(function(r){n._are("boolean",t[r])&&(e[r]=t[r])})}},not:function(e,t,n,r){return this.areNot(e,t,n,r)},is:function(e,t,n,r){return this.are(e,t,n,r)},scrub:function(e,t,n){return this.checkObject(e,t,n,{returnPayload:!0})}};m.default=$,m=$;var x={};Object.defineProperty(x,"__esModule",{value:!0});var E={primitive:["null","undefined"]},k=function(e){return e.$$custom_optional=E,e};x.default=k,x=k;var A={};Object.defineProperty(A,"__esModule",{value:!0});var M={primitive:["number"],pass:function(e){return e.toFixed(0)===e.toString()}},I=function(e){return e.$$custom_integer=M,e};A.default=I,A=I;var J={},B=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});var C=B(m),L=B(x),R=B(A);return L.default(C.default),R.default(C.default),J.default=C.default,J=C.default});