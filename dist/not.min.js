!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Not=t()}}(function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e={opinionatedOnNaN:!0,opinionatedOnArray:!0,opinionatedOnNull:!0,opinionatedOnString:!0,_isOpinionated:!0,willThrowError:!0};return Object.defineProperty(e,"isOpinionated",{get:function(){return this._isOpinionated},set:function(t){this._isOpinionated=t,this.opinionatedOnNaN=t,this.opinionatedOnArray=t,this.opinionatedOnNull=t,this.opinionatedOnString=t}}),Object.defineProperty(e,"areNot",{value:function(t,e,n,i){t=this.prepareExpect(t);var r=this.type(e);if(this.found(t,e,r))return!1;var o=this.msg(t,r,n,i);if(this.willThrowError)throw TypeError(o);return o}}),Object.defineProperty(e,"are",{value:function(t,e){try{return"string"!=typeof this.areNot(t,e)}catch(n){return!1}}}),Object.defineProperty(e,"primitives",{value:["string","number","nan","array","object","function","boolean","null","undefined"],enumerable:!0}),e.isNot=function(t,e,n,i){return this.areNot(t,e,n,i)},e.not=function(t,e,n,i){return this.areNot(t,e,n,i)},e.is=function(t,e){return this.are(t,e)},e.found=function(t,e,n){"string"==typeof n&&(n=[n]);for(var i=!1,r=0;r<t.length;r++){var o=t[r];if(o.indexOf("$$")>-1){if(this.are(this[o].primitive,e,this.customNameReplace(o))){if("function"==typeof this[o].pass){if(this[o].pass(e)){i=!0;break}continue}i=!0;break}}else if(-1!==n.indexOf(o)){i=!0;break}}return i},e.prepareExpect=function(t){var e=this;if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw TypeError("Internal error: Say what you expect to check as a string or array of strings. Found ".concat(this.list(this.type(t),"as"),"."));return t.reduce(function(t,n){if("string"!=typeof n)throw TypeError("Internal error: Say what you expect to check as a string. Found ".concat(e.list(e.type(n),"as"),"."));return n=n.toLowerCase(),e.mapExpect(t,n)},[])},e.mapExpect=function(t,e){if(-1===this.primitives.indexOf(e)){if(void 0!==this["$$custom_".concat(e)])return t.push("$$custom_".concat(e)),t;throw TypeError("Internal error: `".concat(e,"` is not a valid type to check for."))}return t.push(e),t},e.msg=function(t,e,n,i){var r="Wrong Type";return r+=n?" (".concat(n,")"):"",(r+=": Expecting type ".concat(this.list(t)," but got ").concat(this.list(e),"."))+(i?" Note: ".concat(i,"."):"")},e.list=function(t,e){if(e||(e="or"),"string"==typeof t&&(t=[t]),1===(t=t.map(function(t){return"`".concat(t.toLowerCase(),"`")})).length)return this.customNameReplace(t[0]);if(2===t.length)return this.customNameReplace(t.join(" ".concat(e," ")));var n="".concat(t.slice(0,-1).join(", ")," ").concat(e," ").concat(t.slice(-1));return this.customNameReplace(n)},e.customNameReplace=function(t){return t.replace("$$custom_optional","optional(null or undefined)").replace("$$custom_","custom:")},e.type=function(e){return"object"!=t(e)?"number"==typeof e&&isNaN(e)?this.opinionatedOnNaN?"nan":["nan","number"]:t(e):Array.isArray(e)?this.opinionatedOnArray?"array":["array","object"]:null===e?this.opinionatedOnNull?"null":["null","object"]:e instanceof String?this.opinionatedOnString?"string":["string","object"]:"object"},e.lodge=function(t,e,n,i){this._oldValue_willThrowError=this.willThrowError,this.willThrowError=!1,this._lodged||(this._lodged=[]);var r=this.areNot(t,e,n,i);return r&&this._lodged.push(r),this.willThrowError=this._oldValue_willThrowError,this._oldValue_willThrowError=null,r},e.resolve=function(t,e){if(void 0===this._lodged||0===this._lodged.length)return"function"==typeof t&&t(!1,e);if("function"==typeof t)return t(this._lodged,e);if(this.willThrowError){var n=TypeError("Wrong types provided. See `trace`.");throw n.trace=this._lodged,n}return this._lodged},e.checkObject=function(e,n,i,r){this.areNot("string",e),this.areNot("object",n),this.areNot("object",i),this.areNot(["function","object","optional"],r);var o=Object.create(this);if("function"==typeof r)return o.walkObject(e,n,i),o.resolve(r);if("object"==t(r)){var a=null;return!0===r.returnPayload&&"$$empty$$"===(a=o.walkObject(e,n,i,!0))&&(a={}),r="function"==typeof r.callback?r.callback:function(t,e){return t||e},o.resolve(r,a)}return o.walkObject(e,n,i),o.resolve()},e.walkObject=function(e,n,i,r){if(r)var o={};for(var a=0,c=Object.keys(n);a<c.length;a++){var s=c[a],l=n[s],p=s.indexOf("__optional")>-1,u=p?s.replace("__optional",""):s,f=i[u];if("object"!=t(l)||null===l||Array.isArray(l)){var h=this.lodge(l,f,"".concat(e,".").concat(u));r&&!h&&f&&(o[u]=f)}else{if("object"==t(f)&&null!==f&&!Array.isArray(l)){if("$$empty$$"===this.walkObject("".concat(e,".").concat(u),l,f,r))continue;r&&(o[u]=f);continue}if(p)continue;this.lodge("object",f,"".concat(e,".").concat(u))}}if(r)return Object.keys(o).length<1?"$$empty$$":o},e.defineType=function(t){var e=this,n=this.__proto__.checkObject("defineType",{primitive:["string","array"],type:"string",pass:["function","optional"]},t,{returnPayload:!0});if(Array.isArray(n))throw n.forEach(function(t){console.error(t)}),TypeError("Wrong inputs for #defineType.");"string"==typeof n.primitive&&(n.primitive=[n.primitive]),n.primitive.forEach(function(t){if(-1===e.primitives.indexOf(t))throw TypeError("Internal error: `".concat(t,"` is not a valid primitive."))});var i="$$custom_".concat(n.type);this[i]={primitive:n.primitive},n.pass&&(this[i].pass=n.pass)},e.$$custom_optional={primitive:["null","undefined"]},e.create=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.areNot.bind(e)},e.createNot=function(t){return this.create(t)},e.createIs=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.are.bind(e)},e._applyOptions=function(t,e){this.are("object",e)&&(this.are("boolean",e.opinionatedOnNaN)&&(t.opinionatedOnNaN=e.opinionatedOnNaN),this.are("boolean",e.opinionatedOnArray)&&(t.opinionatedOnArray=e.opinionatedOnArray),this.are("boolean",e.opinionatedOnNull)&&(t.opinionatedOnNull=e.opinionatedOnNull),this.are("boolean",e.opinionatedOnString)&&(t.opinionatedOnString=e.opinionatedOnString),this.are("boolean",e.isOpinionated)&&(t.isOpinionated=e.isOpinionated),this.are("boolean",e.willThrowError)&&(t.willThrowError=e.willThrowError))},Object.create(e)});