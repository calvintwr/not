/*!
 * You-Are-Not v0.7.2
 * (c) 2020 Calvin Tan
 * Released under the MIT License.
 */

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Not=t()}}(function(){var t={};function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={willThrowError:!0,timestamp:!1,messageInPOJO:!1};Object.defineProperty(n,"_opinions",{value:["opinionatedOnNaN","opinionatedOnArray","opinionatedOnNull","opinionatedOnString","opinionatedOnNumber","opinionatedOnBoolean"]}),Object.defineProperty(n,"isOpinionated",{get:function(){return this._isOpinionated},set:function(t){var e=this;this._isOpinionated=t,this._opinions.forEach(function(n){e[n]=t})},enumerable:!0}),n.isOpinionated=!0,Object.defineProperty(n,"areNot",{value:function(t,e,n,i){t=this.prepareExpect(t);var r=this.type(e);if(this.found(t,e,r))return!1;var o=this.msg(t,e,r,n,i);if(this.willThrowError)throw TypeError(o);return o}}),Object.defineProperties(n,{are:{value:function(t,e,n,i){return!this.areNot(t,e)}},_are:{value:function(t,e,n,i){try{return"string"!=typeof this.areNot(t,e,n,i)}catch(r){return!1}}}}),Object.defineProperty(n,"_primitives",{value:["string","number","array","object","function","boolean","null","undefined","symbol","nan"],enumerable:!0}),n.isNot=function(t,e,n,i){return this.areNot(t,e,n,i)},n.not=function(t,e,n,i){return this.areNot(t,e,n,i)},n.is=function(t,e,n,i){return this.are(t,e,n,i)},n.found=function(t,e,n){"string"==typeof n&&(n=[n]);for(var i=!1,r=0;r<t.length;r++){var o=t[r];if(o.indexOf("$$")>-1){if(this._are(this[o].primitive,e,this.customNameReplace(o))){if("function"==typeof this[o].pass){if(this[o].pass(e)){i=!0;break}continue}i=!0;break}}else if(-1!==n.indexOf(o)){i=!0;break}}return i},n.prepareExpect=function(t){var e=this;if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw TypeError("Internal error: Say what you expect to check as a string or array of strings. Found ".concat(this.list(this.type(t),"as"),"."));return t.reduce(function(t,n){if("string"!=typeof n)throw TypeError("Internal error: Say what you expect to check as a string. Found ".concat(e.list(e.type(n),"as"),"."));return n=n.toLowerCase(),e.mapExpect(t,n)},[])},n.mapExpect=function(t,e){if(-1===this._primitives.indexOf(e)){if(void 0!==this["$$custom_".concat(e)])return t.push("$$custom_".concat(e)),t;throw TypeError("Internal error: `".concat(e,"` is not a valid type to check for."))}return t.push(e),t},n.msg=function(t,e,n,i,r){var o,a="Wrong Type",s=this.list(n);return a+=i?" (".concat(i,")"):"",a+=": Expecting type ".concat(this.list(t)," but got ").concat(s),a+=["`null`","`undefined`","`nan`"].indexOf(s)>-1?".":": ".concat(null==(o=e)||"string"==typeof o||"number"==typeof o?String(o):o.length||Array.isArray(o)||"[object Object]"===String(o)?JSON.stringify(o):"undefined"!=typeof HTMLElement&&o instanceof HTMLElement?"<"+o.nodeName.toLowerCase()+">":"undefined"!=typeof Text&&o instanceof Text?'"'+o.nodeValue+'"':o.toString?o.toString():String(o),"."),a+=r?" Note: ".concat(r,"."):"",this.timestamp&&(a+=" (TS: ".concat((new Date).getTime(),")")),!this.willThrowError&&this.messageInPOJO?this.msgPOJO(a,t,e,n,i,r):a},n.msgPOJO=function(t,e,n,i,r,o){return{message:t,expect:e,got:n,gotType:i,name:r,note:o,timestamp:(new Date).getTime()}},n.list=function(t,e){if(e||(e="or"),"string"==typeof t&&(t=[t]),1===(t=t.map(function(t){return"`".concat(t.toLowerCase(),"`")})).length)return this.customNameReplace(t[0]);if(2===t.length)return this.customNameReplace(t.join(" ".concat(e," ")));var n="".concat(t.slice(0,-1).join(", ")," ").concat(e," ").concat(t.slice(-1));return this.customNameReplace(n)},n.customNameReplace=function(t){return t.replace("$$custom_optional","optional(null or undefined)").replace("$$custom_","custom:")},n.type=function(t){return"object"!=e(t)?"number"==typeof t&&isNaN(t)?this.opinionatedOnNaN?"nan":["nan","number"]:e(t):Array.isArray(t)?this.opinionatedOnArray?"array":["array","object"]:null===t?this.opinionatedOnNull?"null":["null","object"]:t instanceof String?this.opinionatedOnString?"string":["string","object"]:t instanceof Number?this.opinionatedOnNumber?isNaN(t.valueOf())?"nan":"number":isNaN(t.valueOf())?["number","nan","object"]:["number","object"]:t instanceof Boolean?this.opinionatedOnBoolean?"boolean":["boolean","object"]:"object"},n.lodge=function(t,e,n,i){this._lodged||(this._lodged=[]);var r=!1;try{r=this.areNot(t,e,n,i)}catch(o){r=o.message}return r&&this._lodged.push(r),r},n.resolve=function(t,e){if(void 0===this._lodged||0===this._lodged.length)return"function"==typeof t&&t(!1,e);var n=this._lodged.slice();if(this._lodged=void 0,"function"==typeof t)return t(n,e);if(this.willThrowError){var i=TypeError("Wrong types provided. See `trace`.");throw i.trace=n,i}return n},n.checkObject=function(t,n,i,r){this.areNot("string",t),this.areNot("object",n),this.areNot("object",i),this.areNot(["function","object","optional"],r);var o=Object.create(this);if("function"==typeof r)return o.walkObject(t,n,i),o.resolve(r,null);if("object"==e(r)){var a=null;return!0===r.returnPayload?"$$empty$$"===(a=o.walkObject(t,n,i,!0))&&(a=null):o.walkObject(t,n,i),r="function"==typeof r.callback?r.callback:function(t,e){return t||e},o.resolve(r,a)}return o.walkObject(t,n,i),o.resolve()},n.walkObject=function(t,n,i,r){if(r)var o={};for(var a=0,s=Object.keys(n);a<s.length;a++){var c=function(t){return function(e){return e.substring(0,e.length-t.length)}},u=function(t,e){return t.indexOf(e)>-1&&t.indexOf(e)===t.length-e.length},l=s[a],f=n[l],p=!1;u(l,"?")?p=c("?"):u(l,"__optional")&&(p=c("__optional"));var h=p?p(l):l,d=i[h];if("object"!=e(f)||null===f||Array.isArray(f)){p&&(Array.isArray(f)?f.push("optional"):f=[f,"optional"]);var y=this.lodge(f,d,"".concat(t,".").concat(h));r&&!y&&d&&(o[h]=d)}else{if("object"==e(d)&&null!==d&&!Array.isArray(f)){if("$$empty$$"===this.walkObject("".concat(t,".").concat(h),f,d,r))continue;r&&(o[h]=d);continue}if(p)continue;this.lodge("object",d,"".concat(t,".").concat(h))}}if(r)return Object.keys(o).length<1?"$$empty$$":o},n.defineType=function(t){var e=this,i=n.checkObject("defineType",{primitive:["string","array"],type:"string",pass:["function","optional"]},t,{returnPayload:!0});if(Array.isArray(i))throw i.forEach(function(t){console.error(t)}),TypeError("Wrong inputs for #defineType.");"string"==typeof i.primitive&&(i.primitive=[i.primitive]),i.primitive.forEach(function(t){if(-1===e._primitives.indexOf(t))throw TypeError("Internal error: `".concat(t,"` is not a valid primitive."))});var r="$$custom_".concat(i.type);this[r]={primitive:i.primitive},i.pass&&(this[r].pass=i.pass)},n.create=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.areNot.bind(e)},n.createNot=function(t){return this.create(t)},n.createIs=function(t){var e=Object.create(this);return this._applyOptions(e,t),e.are.bind(e)},n._applyOptions=function(t,e){var n=this;if(this._are("object",e)){if(this._are("boolean",e.willThrowError)&&(t.willThrowError=e.willThrowError),this._are("boolean",e.timestamp)&&(t.timestamp=e.timestamp),this._are("boolean",e.messageInPOJO)&&(t.messageInPOJO=e.messageInPOJO),this._are("boolean",e.isOpinionated))return void(t.isOpinionated=e.isOpinionated);this._opinions.forEach(function(i){n._are("boolean",e[i])&&(t[i]=e[i])})}};var i={primitive:["null","undefined"]},r={primitive:["number"],pass:function(t){return t.toFixed(0)===t.toString()}};(t=n).$$custom_optional=i,function(t){t.$$custom_integer=r}(t);var o=Object.create(t);return o.willThrowError=!1,t.NotWontThrow=o,Object.create(t)});